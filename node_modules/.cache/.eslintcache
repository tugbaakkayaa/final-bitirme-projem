[{"C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\index.js":"1","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\App.js":"2","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\reportWebVitals.js":"3","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\components\\AddBook.js":"4","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\components\\BooksList.js":"5","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\services\\book.services.js":"6","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\firebase-config.js":"7"},{"size":196,"mtime":1681263715614,"results":"8","hashOfConfig":"9"},{"size":975,"mtime":1681263658744,"results":"10","hashOfConfig":"9"},{"size":362,"mtime":1681258006199,"results":"11","hashOfConfig":"9"},{"size":3931,"mtime":1681263639426,"results":"12","hashOfConfig":"9"},{"size":2024,"mtime":1681654497793,"results":"13","hashOfConfig":"9"},{"size":793,"mtime":1681263639426,"results":"14","hashOfConfig":"9"},{"size":545,"mtime":1681321496232,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},"1l7mxm5",{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"19"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"19"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\index.js",[],[],[],"C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\App.js",[],[],"C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\reportWebVitals.js",[],[],"C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\components\\AddBook.js",["40"],[],"import React, { useState, useEffect } from \"react\";\r\nimport { Form, Alert, InputGroup, Button, ButtonGroup } from \"react-bootstrap\";\r\nimport BookDataService from \"../services/book.services\";\r\n\r\nconst AddBook = ({ id, setBookId }) => {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [author, setAuthor] = useState(\"\");\r\n  const [status, setStatus] = useState(\"Available\");\r\n  const [flag, setFlag] = useState(true);\r\n  const [message, setMessage] = useState({ error: false, msg: \"\" });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setMessage(\"\");\r\n    if (title === \"\" || author === \"\") {\r\n      setMessage({ error: true, msg: \"All fields are mandatory!\" });\r\n      return;\r\n    }\r\n    const newBook = {\r\n      title,\r\n      author,\r\n      status,\r\n    };\r\n    console.log(newBook);\r\n\r\n    try {\r\n      if (id !== undefined && id !== \"\") {\r\n        await BookDataService.updateBook(id, newBook);\r\n        setBookId(\"\");\r\n        setMessage({ error: false, msg: \"Updated successfully!\" });\r\n      } else {\r\n        await BookDataService.addBooks(newBook);\r\n        setMessage({ error: false, msg: \"New Book added successfully!\" });\r\n      }\r\n    } catch (err) {\r\n      setMessage({ error: true, msg: err.message });\r\n    }\r\n\r\n    setTitle(\"\");\r\n    setAuthor(\"\");\r\n  };\r\n\r\n  const editHandler = async () => {\r\n    setMessage(\"\");\r\n    try {\r\n      const docSnap = await BookDataService.getBook(id);\r\n      console.log(\"the record is :\", docSnap.data());\r\n      setTitle(docSnap.data().title);\r\n      setAuthor(docSnap.data().author);\r\n      setStatus(docSnap.data().status);\r\n    } catch (err) {\r\n      setMessage({ error: true, msg: err.message });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"The id here is : \", id);\r\n    if (id !== undefined && id !== \"\") {\r\n      editHandler();\r\n    }\r\n  }, [id]);\r\n  return (\r\n    <>\r\n      <div className=\"p-4 box\">\r\n        {message?.msg && (\r\n          <Alert\r\n            variant={message?.error ? \"danger\" : \"success\"}\r\n            dismissible\r\n            onClose={() => setMessage(\"\")}\r\n          >\r\n            {message?.msg}\r\n          </Alert>\r\n        )}\r\n\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group className=\"mb-3\" controlId=\"formBookTitle\">\r\n            <InputGroup>\r\n              <InputGroup.Text id=\"formBookTitle\">B</InputGroup.Text>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Book Title\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n              />\r\n            </InputGroup>\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mb-3\" controlId=\"formBookAuthor\">\r\n            <InputGroup>\r\n              <InputGroup.Text id=\"formBookAuthor\">A</InputGroup.Text>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Book Author\"\r\n                value={author}\r\n                onChange={(e) => setAuthor(e.target.value)}\r\n              />\r\n            </InputGroup>\r\n          </Form.Group>\r\n          <ButtonGroup aria-label=\"Basic example\" className=\"mb-3\">\r\n            <Button\r\n              disabled={flag}\r\n              variant=\"success\"\r\n              onClick={(e) => {\r\n                setStatus(\"Available\");\r\n                setFlag(true);\r\n              }}\r\n            >\r\n              Available\r\n            </Button>\r\n            <Button\r\n              variant=\"danger\"\r\n              disabled={!flag}\r\n              onClick={(e) => {\r\n                setStatus(\"Not Available\");\r\n                setFlag(false);\r\n              }}\r\n            >\r\n              Not Available\r\n            </Button>\r\n          </ButtonGroup>\r\n          <div className=\"d-grid gap-2\">\r\n            <Button variant=\"primary\" type=\"Submit\">\r\n              Add/ Update\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddBook;","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\components\\BooksList.js",[],[],"C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\services\\book.services.js",["41"],[],"import { db } from \"../firebase-config\";\r\n\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  getDoc,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  doc,\r\n} from \"firebase/firestore\";\r\n\r\nconst bookCollectionRef = collection(db, \"books\");\r\nclass BookDataService {\r\n  addBooks = (newBook) => {\r\n    return addDoc(bookCollectionRef, newBook);\r\n  };\r\n\r\n  updateBook = (id, updatedBook) => {\r\n    const bookDoc = doc(db, \"books\", id);\r\n    return updateDoc(bookDoc, updatedBook);\r\n  };\r\n\r\n  deleteBook = (id) => {\r\n    const bookDoc = doc(db, \"books\", id);\r\n    return deleteDoc(bookDoc);\r\n  };\r\n\r\n  getAllBooks = () => {\r\n    return getDocs(bookCollectionRef);\r\n  };\r\n\r\n  getBook = (id) => {\r\n    const bookDoc = doc(db, \"books\", id);\r\n    return getDoc(bookDoc);\r\n  };\r\n}\r\n\r\nexport default new BookDataService();","C:\\Users\\lenovo\\OneDrive\\Masaüstü\\finalprojem\\src\\firebase-config.js",[],[],{"ruleId":"42","severity":1,"message":"43","line":61,"column":6,"nodeType":"44","endLine":61,"endColumn":10,"suggestions":"45"},{"ruleId":"46","severity":1,"message":"47","line":39,"column":1,"nodeType":"48","endLine":39,"endColumn":38},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'editHandler'. Either include it or remove the dependency array.","ArrayExpression",["49"],"import/no-anonymous-default-export","Assign instance to a variable before exporting as module default","ExportDefaultDeclaration",{"desc":"50","fix":"51"},"Update the dependencies array to be: [editHandler, id]",{"range":"52","text":"53"},[1835,1839],"[editHandler, id]"]